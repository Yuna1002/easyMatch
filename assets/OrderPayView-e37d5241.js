import{S as v}from"./sweetalert2.all-a9e4d38a.js";import{_ as g,r as w,o as c,c as l,d as s,e as y,w as x,E as d,B as T,t as o,f as P,g as I}from"./index-0ee263ef.js";const{VITE_APP_URL:h,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/easyMatch/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{order:{},fullPage:!0}},methods:{getOrder(){const e=this.$loading.show(),{orderId:r}=this.$route.params;this.$http.get(`${h}/api/${u}/order/${r}`).then(n=>{this.order=n.data.order;const i=localStorage.getItem("totalIncludeGroup");i&&(this.order.totalIncludeGroup=parseInt(i)),e.hide()})},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},payOrder(e){this.$http.post(`${h}/api/${u}/pay/${e}`).then(r=>{r.data.success&&(v.fire({icon:"success",toast:!0,position:"top",title:"付款成功",timer:1500,showConfirmButton:!1}),this.getOrder(),this.scrollToTop())})}},mounted(){const e=this.$loading.show();setTimeout(()=>{e.hide()},600),this.getOrder()}},E={class:"bg-tertiary-100"},O={class:"container bg-tertiary-100"},S={"aria-label":"breadcrumb",class:"bg-tertiary-100 pt-3 mb-6"},A={class:"breadcrumb mb-0"},R={class:"breadcrumb-item"},k=s("li",{class:"breadcrumb-item active","aria-current":"page"},"確認付款",-1),B={class:"mb-4"},L={class:"row"},N={class:"row"},C=P('<div class="col-3 col-md-5"><div class="pointer d-flex flex-column align-items-center ps-5"><div class="pointer-num pointer-num-active fs-3 mb-1 text-white fw-semibold">1</div><p class="fs-4 text-primary-200">填寫資料</p></div></div><div class="col-6 col-md-2"><div class="pointer d-flex flex-column align-items-center"><div class="pointer-num pointer-num-active fs-3 mb-1 fw-semibold text-white">2</div><p class="fs-4 text-primary-200">確認付款</p></div></div>',2),D={class:"col-3 col-md-5"},G={class:"pointer d-flex flex-column align-items-center pe-2"},M={class:"row justify-content-center pb-40"},U={class:"col-10 col-md-8"},H={class:"bg-card-bg p-6"},j=s("h2",{class:"h4"},"訂單資訊",-1),z={class:"table align-middle"},$=s("th",{class:"p-md-3 border-0"},"訂單編號",-1),q={class:"p-md-3 border-0"},F=s("th",{class:"p-md-3 border-0"},"訂單成立日期",-1),J={class:"p-md-3 border-0"},K=s("th",{class:"p-md-3 border-0"},"訂單金額",-1),Q={class:"p-md-3 border-0"},W=s("th",{class:"p-md-3 border-0"},"姓名",-1),X={class:"p-md-3 border-0"},Y=s("th",{class:"p-md-3 border-0"},"手機",-1),Z={class:"p-md-3 border-0"},ss=s("th",{class:"p-md-3 border-0"},"信箱",-1),ts={class:"p-md-3 border-0"},es=s("th",{class:"p-md-3 border-0"},"外送地址",-1),os={class:"p-md-3 border-0"},rs=s("th",{class:"p-md-3 border-0"},"訂單備註",-1),ds={class:"p-md-3 border-0"},is=s("th",{scope:"row",class:"p-md-3 border-0",width:"150"},"付款狀態",-1),cs={class:"p-md-3 border-0"},ls={key:0,class:"text-danger"},ns={key:1,class:"text-primary-200"};function as(e,r,n,i,t,b){var a,_,p,m;const f=w("RouterLink");return c(),l("div",E,[s("div",O,[s("nav",S,[s("ol",A,[s("li",R,[y(f,{to:"/",class:"text-primary-200"},{default:x(()=>[I("首頁")]),_:1})]),k])]),s("div",B,[s("div",L,[s("div",{class:d(["col-9 col-md-7 mx-auto timeline",{"timeline-2":t.order.is_paid}])},null,2)]),s("div",N,[C,s("div",D,[s("div",G,[s("div",{class:d(["pointer-num fs-3 mb-1 fw-semibold",{"text-white":t.order.is_paid,"bg-primary":t.order.is_paid,"border-0":t.order.is_paid}])},"3",2),s("p",{class:d(["fs-4",{"text-primary-200":t.order.is_paid}])},"訂購完成",2)])])])]),s("div",M,[s("div",U,[s("div",H,[j,s("form",{onSubmit:r[0]||(r[0]=T(_s=>b.payOrder(t.order.id),["prevent"]))},[s("table",z,[s("tbody",null,[s("tr",null,[$,s("td",q,o(t.order.id),1)]),s("tr",null,[F,s("td",J,o(e.$filters.date(t.order.create_at)),1)]),s("tr",null,[K,s("td",Q,"NT$ "+o(e.$filters.toThousands(t.order.totalIncludeGroup)),1)]),s("tr",null,[W,s("td",X,o((a=t.order.user)==null?void 0:a.name),1)]),s("tr",null,[Y,s("td",Z,o((_=t.order.user)==null?void 0:_.tel),1)]),s("tr",null,[ss,s("td",ts,o((p=t.order.user)==null?void 0:p.email),1)]),s("tr",null,[es,s("td",os,o((m=t.order.user)==null?void 0:m.address),1)]),s("tr",null,[rs,s("td",ds,o(t.order.message?t.order.message:"無"),1)]),s("tr",null,[is,s("td",cs,[t.order.is_paid?(c(),l("span",ns,"已付款")):(c(),l("span",ls,"尚未付款"))])])])]),s("button",{type:"submit",class:d(["btn btn-primary-200 w-100 text-white py-3",{disabled:t.order.is_paid}])},"確認付款",2)],32)])])])])])}const hs=g(V,[["render",as]]);export{hs as default};
