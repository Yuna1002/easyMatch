import{S as v}from"./sweetalert2.all-8bff2fa1.js";import{_ as g,r as y,o as c,c as l,d as s,e as w,w as x,E as d,B as P,t as o,f as I,g as T}from"./index-ea3b42c6.js";const{VITE_APP_URL:h,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/easyMatch/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{order:{},fullPage:!0}},methods:{getOrder(){const t=this.$loading.show(),{orderId:r}=this.$route.params;this.$http.get(`${h}/api/${u}/order/${r}`).then(a=>{this.order=a.data.order;const i=localStorage.getItem("totalIncludeGroup");i&&(this.order.totalIncludeGroup=parseInt(i)),t.hide()})},payOrder(t){this.$http.post(`${h}/api/${u}/pay/${t}`).then(r=>{r.data.success&&(v.fire({icon:"success",toast:!0,position:"top",title:"付款成功",timer:2e3,showConfirmButton:!1}),this.getOrder())})}},mounted(){const t=this.$loading.show();setTimeout(()=>{t.hide()},600),this.getOrder()}},E={class:"bg-tertiary-100"},O={class:"container bg-tertiary-100"},S={"aria-label":"breadcrumb",class:"bg-tertiary-100 pt-3 mb-6"},A={class:"breadcrumb mb-0"},R={class:"breadcrumb-item"},k=s("li",{class:"breadcrumb-item active","aria-current":"page"},"確認付款",-1),B={class:"mb-4"},L={class:"row"},N={class:"row"},C=I('<div class="col-3 col-md-5"><div class="pointer d-flex flex-column align-items-center ps-5"><div class="pointer-num pointer-num-active fs-3 mb-1 text-white fw-semibold">1</div><p class="fs-4 text-primary-200">填寫資料</p></div></div><div class="col-6 col-md-2"><div class="pointer d-flex flex-column align-items-center"><div class="pointer-num pointer-num-active fs-3 mb-1 fw-semibold text-white">2</div><p class="fs-4 text-primary-200">確認付款</p></div></div>',2),D={class:"col-3 col-md-5"},G={class:"pointer d-flex flex-column align-items-center pe-2"},M={class:"row justify-content-center pb-40"},U={class:"col-10 col-md-8"},H={class:"bg-card-bg p-6"},j=s("h2",{class:"h4"},"訂單資訊",-1),z={class:"table align-middle"},$=s("th",{class:"p-md-3 border-0"},"訂單編號",-1),q={class:"p-md-3 border-0"},F=s("th",{class:"p-md-3 border-0"},"訂單成立日期",-1),J={class:"p-md-3 border-0"},K=s("th",{class:"p-md-3 border-0"},"訂單金額",-1),Q={class:"p-md-3 border-0"},W=s("th",{class:"p-md-3 border-0"},"姓名",-1),X={class:"p-md-3 border-0"},Y=s("th",{class:"p-md-3 border-0"},"手機",-1),Z={class:"p-md-3 border-0"},ss=s("th",{class:"p-md-3 border-0"},"信箱",-1),es={class:"p-md-3 border-0"},ts=s("th",{class:"p-md-3 border-0"},"外送地址",-1),os={class:"p-md-3 border-0"},rs=s("th",{class:"p-md-3 border-0"},"訂單備註",-1),ds={class:"p-md-3 border-0"},is=s("th",{scope:"row",class:"p-md-3 border-0",width:"150"},"付款狀態",-1),cs={class:"p-md-3 border-0"},ls={key:0,class:"badge bg-danger py-2 px-4"},as={key:1,class:"badge bg-primary-200 py-2 px-4"};function ns(t,r,a,i,e,b){var n,_,p,m;const f=y("RouterLink");return c(),l("div",E,[s("div",O,[s("nav",S,[s("ol",A,[s("li",R,[w(f,{to:"/",class:"text-primary-200"},{default:x(()=>[T("首頁")]),_:1})]),k])]),s("div",B,[s("div",L,[s("div",{class:d(["col-9 col-md-7 mx-auto timeline",{"timeline-2":e.order.is_paid}])},null,2)]),s("div",N,[C,s("div",D,[s("div",G,[s("div",{class:d(["pointer-num fs-3 mb-1 fw-semibold",{"text-white":e.order.is_paid,"bg-primary":e.order.is_paid,"border-0":e.order.is_paid}])},"3",2),s("p",{class:d(["fs-4",{"text-primary-200":e.order.is_paid}])},"訂購完成",2)])])])]),s("div",M,[s("div",U,[s("div",H,[j,s("form",{onSubmit:r[0]||(r[0]=P(_s=>b.payOrder(e.order.id),["prevent"]))},[s("table",z,[s("tbody",null,[s("tr",null,[$,s("td",q,o(e.order.id),1)]),s("tr",null,[F,s("td",J,o(t.$filters.date(e.order.create_at)),1)]),s("tr",null,[K,s("td",Q,"NT$ "+o(t.$filters.toThousands(e.order.totalIncludeGroup)),1)]),s("tr",null,[W,s("td",X,o((n=e.order.user)==null?void 0:n.name),1)]),s("tr",null,[Y,s("td",Z,o((_=e.order.user)==null?void 0:_.tel),1)]),s("tr",null,[ss,s("td",es,o((p=e.order.user)==null?void 0:p.email),1)]),s("tr",null,[ts,s("td",os,o((m=e.order.user)==null?void 0:m.address),1)]),s("tr",null,[rs,s("td",ds,o(e.order.message?e.order.message:"無"),1)]),s("tr",null,[is,s("td",cs,[e.order.is_paid?(c(),l("span",as,"已付款")):(c(),l("span",ls,"尚未付款"))])])])]),s("button",{type:"submit",class:d(["btn btn-primary-200 w-100 text-white py-3",{disabled:e.order.is_paid}])},"確認付款",2)],32)])])])])])}const hs=g(V,[["render",ns]]);export{hs as default};
