import{_ as f,b as m,m as b,r as v,o as a,c,e as g,d as t,E as d,B as l,F as P,z as k,A as y,t as n}from"./index-f70a17f6.js";import{c as h}from"./cartStore-e83aa473.js";import{S as x}from"./SuccessToast-bca5a862.js";const{VITE_APP_URL:C,VITE_APP_PATH:T}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/easyMatch/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},w={data(){return{products:[],filterProducts:[],tempProduct:{},active:"全部",fullPage:!1,loadingItem:""}},components:{SuccessToast:x},methods:{getProducts(){const i=this.$loading.show({container:this.fullPage?null:this.$refs.productsContainer});this.$http.get(`${C}/api/${T}/products/all`).then(s=>{this.products=s.data.products,this.filterProducts=this.products,i.hide()}).catch(s=>{alert(s.data.message)})},filterProduct(i){if(this.active=i,i==="全部")this.getProducts(),this.filterProducts=this.products;else{const s=this.products.filter(p=>p.category===i);this.filterProducts=s}},handleClick(i,s){i.target.nodeName==="BUTTON"?this.addToCart(s):this.$router.push(`/product/${s}`)},...m(h,["getCart"]),...m(h,["addToCart"])},computed:{...b(h,["cart"])},mounted(){this.getProducts()}},S={class:"bg-tertiary-100"},A={class:"container pt-12 pb-40"},E={class:"row"},V={class:"col-md-3 sidebar-position"},I={class:"list-group flex-row flex-md-column pt-4 bg-tertiary-100 rounded-0 sidebar-position"},$={class:"fs-4 ps-8 mb-6"},B={class:"fs-4 ps-8 mb-6"},R={class:"fs-4 ps-8 mb-6"},U={class:"fs-4 ps-8 mb-6"},z={class:"col-md-9"},D={class:"row vl-parent",ref:"productsContainer"},L=["onClick"],N={class:"card-body px-8 d-flex flex-column"},M={class:"d-flex mb-4"},O={class:"card-title h5 fw-bold mb-0"},F={class:"badge bg-primary rounded-pill fs-3 fw-normal ms-2"},H={class:"card-text mb-4 h-100"},j={class:"d-flex align-items-center justify-content-end mb-1"},q={class:"fw-semibold text-primary-200"},G={key:0,type:"button",class:"btn btn-secondary text-white disabled"},J=["disabled"];function K(i,s,p,Q,o,r){const _=v("SuccessToast");return a(),c("div",S,[g(_),t("div",A,[t("div",E,[t("div",V,[t("div",I,[t("h2",$,[t("a",{href:"",class:d(["list-group-item sidebar-link",{"sidebar-link-active":o.active==="全部"}]),onClick:s[0]||(s[0]=l(e=>r.filterProduct("全部"),["prevent"]))}," 全部產品 ",2)]),t("h2",B,[t("a",{href:"",class:d(["list-group-item sidebar-link",{"sidebar-link-active":o.active==="維生素"}]),onClick:[s[1]||(s[1]=l(e=>r.filterProduct("維生素"),["prevent"])),s[2]||(s[2]=e=>o.active="維生素")]}," 維生素 ",2)]),t("h2",R,[t("a",{href:"",class:d(["list-group-item sidebar-link",{"sidebar-link-active":o.active==="礦物質"}]),onClick:s[3]||(s[3]=l(e=>r.filterProduct("礦物質"),["prevent"]))}," 礦物質 ",2)]),t("h2",U,[t("a",{href:"",class:d(["list-group-item sidebar-link",{"sidebar-link-active":o.active==="功能性補給"}]),onClick:s[4]||(s[4]=l(e=>r.filterProduct("功能性補給"),["prevent"]))}," 功能性補給 ",2)])])]),t("div",z,[t("div",D,[(a(!0),c(P,null,k(o.filterProducts,e=>(a(),c("div",{class:"col-xl-4 col-lg-6 mb-6",key:e.id},[t("a",{href:"",class:"card bg-card-bg border-0 h-100 pb-5 products-card",onClick:l(u=>r.handleClick(u,e.id),["prevent"])},[t("div",{style:y([{height:"180px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}]),class:"mb-2"},null,4),t("div",N,[t("div",M,[t("h3",O,n(e.title),1),t("div",null,[t("span",F,n(e.category),1)])]),t("p",H,n(e.simple),1),t("div",j,[t("p",q,n(`$${e.price} /顆`),1)]),i.cart.carts.some(u=>u.product_id===e.id)?(a(),c("button",G," 已加入 ")):(a(),c("button",{key:1,type:"button",class:"btn btn-primary-200 text-white",disabled:o.loadingItem===e.id}," 加入購物車 ",8,J))])],8,L)]))),128))],512)])])])])}const Z=f(w,[["render",K]]);export{Z as default};
