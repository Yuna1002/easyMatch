import{_ as h,m as b,r as m,o as u,c as _,d as e,F as v,z as g,t as d,e as a,w as V,E as c,H as x,J as y}from"./index-f70a17f6.js";import{S,c as w}from"./cartStore-e83aa473.js";const{VITE_APP_URL:E,VITE_APP_PATH:P}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/easyMatch/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},U={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},computed:{...b(w,["cart"])},methods:{submitOrder(){const o=this.form;this.$http.post(`${E}/api/${P}/order`,{data:o}).then(()=>{S.fire({icon:"success",title:"訂單建立成功",timer:2e3,confirmButtonColor:"#46afa2"}),this.$refs.form.resetForm(),this.getCart(),localStorage.clear()}).catch(s=>{alert(s.data.message)})}},mounted(){const o=localStorage.getItem("selectedGroup");o&&(this.cart.group=parseInt(o))}},k={class:"bg-tertiary-100"},A={class:"container pt-12 pb-12"},T={class:"row"},I={class:"col-lg-4 mb-8"},O=e("h2",{class:"h4 mb-6 text-center"},"訂單明細",-1),B={class:"bg-card-bg py-6 px-6"},C={class:"d-flex"},D={class:"me-2"},R=e("hr",null,null,-1),q={class:"text-end fw-semibold"},L={class:"col-lg-8"},F=e("h2",{class:"h4 mb-6 text-center"},"顧客資料",-1),H={class:"row justify-content-center"},M={class:"col-lg-10"},j={class:"mb-4"},z=e("label",{for:"name",class:"form-label"},"收件人姓名",-1),N={class:"mb-4"},$=e("label",{for:"tel",class:"form-label"},"收件人電話",-1),G={class:"mb-4"},J=e("label",{for:"email",class:"form-label"},"Email",-1),K={class:"mb-4"},Q=e("label",{for:"address",class:"form-label"},"收件人地址",-1),W={class:"mb-4"},X=e("label",{for:"message",class:"form-label"},"留言",-1),Y=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-primary-200 text-white"},"送出訂單")],-1);function Z(o,s,ee,se,t,f){const i=m("v-field"),n=m("error-message"),p=m("v-form");return u(),_("div",k,[e("div",A,[e("div",T,[e("div",I,[O,e("div",B,[(u(!0),_(v,null,g(o.cart.carts,r=>(u(),_("div",{key:r.id,class:"d-flex justify-content-between mb-1"},[e("p",null,d(r.product.title),1),e("div",C,[e("p",D,d(`${o.cart.group*30}天份`),1),e("p",null,d(`$${r.total*o.cart.group} `),1)])]))),128)),R,e("p",q,d(`總計$ ${o.cart.total*o.cart.group}`),1)])]),e("div",L,[F,e("div",H,[e("div",M,[a(p,{ref:"form",onSubmit:f.submitOrder},{default:V(({errors:r})=>[e("div",j,[z,a(i,{id:"name",name:"姓名",type:"text",class:c(["form-control",{"is-invalid":r.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:t.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=l=>t.form.user.name=l)},null,8,["class","modelValue"]),a(n,{name:"姓名",class:"invalid-feedback"})]),e("div",N,[$,a(i,{id:"tel",name:"電話",type:"text",class:c(["form-control",{"is-invalid":r.電話}]),placeholder:"請輸入電話",rules:"required|min:8|max:10",modelValue:t.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=l=>t.form.user.tel=l)},null,8,["class","modelValue"]),a(n,{name:"電話",class:"invalid-feedback"})]),e("div",G,[J,a(i,{id:"email",name:"email",type:"email",class:c(["form-control",{"is-invalid":r.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:t.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=l=>t.form.user.email=l)},null,8,["class","modelValue"]),a(n,{name:"email",class:"invalid-feedback"})]),e("div",K,[Q,a(i,{id:"address",name:"地址",type:"text",class:c(["form-control",{"is-invalid":r.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:t.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=l=>t.form.user.address=l)},null,8,["class","modelValue"]),a(n,{name:"地址",class:"invalid-feedback"})]),e("div",W,[X,x(e("textarea",{id:"message",class:"form-control",cols:"30",rows:"5","onUpdate:modelValue":s[4]||(s[4]=l=>t.form.message=l)},null,512),[[y,t.form.message]])]),Y]),_:1},8,["onSubmit"])])])])])])])}const le=h(U,[["render",Z]]);export{le as default};
