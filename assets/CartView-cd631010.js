import{_ as u,m as l,b as r,o,c as a,d as t,F as h,z as _,G as m,H as f,I as b,t as c,g as p}from"./index-a3e96386.js";import{c as i}from"./cartStore-0153855b.js";import{S as g}from"./sweetalert2.all-73b96a89.js";const y={computed:{...l(i,["cart"]),...l(i,["loadingItem"])},methods:{...r(i,["getCart"]),...r(i,["delCart"]),...r(i,["saveToLocal"]),checkCart(){this.cart.carts.length?this.$router.push("/order"):g.fire({icon:"warning",title:"購物車尚無資料",confirmButtonText:"前往購物",confirmButtonColor:"#46afa2"}).then(e=>{e.isConfirmed&&this.$router.push("/products")})}},mounted(){const e=this.$loading.show();setTimeout(()=>{e.hide()},600),this.getCart()}},v={class:"bg-tertiary-100"},w={class:"container pt-12 pb-40"},k=t("h1",{class:"h2 text-center mb-8"},"購物車",-1),C={class:"row justify-content-center"},$={class:"col-10"},x={class:"bg-card-bg px-8 py-12 mb-8"},S=t("h2",{class:"h4 text-center fw-semibold mb-6"},"30天份自由配",-1),T={class:"table align-middle border"},B=t("thead",{class:"bg-primary text-white"},[t("tr",null,[t("th",{class:"fw-semibold"},"產品"),t("th",{class:"w-semibold text-center"},"每顆單價"),t("th",{class:"w-semibold text-center"},"30天份金額"),t("th",{class:"w-semibold"})])],-1),V={key:0},j={class:"d-md-flex align-items-md-center"},I={class:"me-8 d-none d-md-block",style:{width:"150px"}},L=["src"],A={class:"fw-semibold"},N={class:"text-center"},D={class:"text-center"},F={class:"text-center"},U=["onClick","disabled"],z={key:0,class:"fas fa-spinner fa-pulse"},E={key:1},G=t("td",{class:"text-center ps-9",colspan:"3"},"購物車尚未有產品",-1),H=[G],M={class:"d-flex align-items-center justify-content-end mb-8"},q=t("p",{class:"me-4"},"組數",-1),J={class:"me-4",style:{width:"80px"}},K=["value"],O={class:"ps-1"},P={class:"d-flex justify-content-end align-items-center"},Q=t("p",{class:"me-4 fw-semibold"},"總計",-1),R={class:"fw-semibold fs-5"},W={class:"d-flex justify-content-end"},X=t("span",{class:"material-symbols-outlined fw-semibold"}," chevron_right ",-1);function Y(e,n,Z,tt,st,d){return o(),a("div",v,[t("div",w,[k,t("div",C,[t("div",$,[t("div",x,[S,t("table",T,[B,Array.isArray(e.cart.carts)?(o(),a("tbody",V,[e.cart.carts.length>0?(o(!0),a(h,{key:0},_(e.cart.carts,s=>(o(),a("tr",{key:s.id},[t("td",j,[t("div",I,[t("img",{class:"img-fluid",src:s.product.imageUrl,alt:""},null,8,L)]),t("p",A,c(s.product.title),1)]),t("td",N,c(`$${s.product.price}`),1),t("td",D,c(`$${s.total}`),1),t("td",F,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:et=>e.delCart(s.id),disabled:e.loadingItem===s.id},[s.id===e.loadingItem?(o(),a("i",z)):m("",!0),p(" x ")],8,U)])]))),128)):(o(),a("tr",E,H))])):m("",!0)]),t("div",M,[q,t("div",J,[f(t("select",{name:"",id:"",class:"form-control me-2","onUpdate:modelValue":n[0]||(n[0]=s=>e.cart.group=s),onChange:n[1]||(n[1]=(...s)=>e.saveToLocal&&e.saveToLocal(...s))},[(o(),a(h,null,_(5,s=>t("option",{value:s,key:s,class:"text-center"},c(s),9,K)),64))],544),[[b,e.cart.group]])]),t("span",O,c(`${e.cart.group*30}天份`),1)]),t("div",P,[Q,t("p",R,c(`$${e.cart.total*e.cart.group}`),1)])]),t("div",W,[t("a",{class:"btn btn-primary-200 text-white ps-8 pe-6 py-2 d-flex align-items-center",onClick:n[2]||(n[2]=(...s)=>d.checkCart&&d.checkCart(...s))},[p(" 前往結帳"),X])])])])])])}const ct=u(y,[["render",Y]]);export{ct as default};
