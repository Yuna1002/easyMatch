import{_ as v,b as f,m as _,r as g,o as r,c as a,e as P,d as t,D as l,A as c,F as k,y,z as x,t as d,E as w,f as C}from"./index-2b99c560.js";import{c as u}from"./cartStore-c81c80be.js";import{S as T}from"./SuccessToast-d62a132b.js";import"./sweetalert2.all-cbe7c2db.js";const{VITE_APP_URL:S,VITE_APP_PATH:V}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/easyMatch/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},A={data(){return{products:[],filterProducts:[],tempProduct:{},active:"全部",fullPage:!1}},components:{SuccessToast:T},methods:{getProducts(){const o=this.$loading.show({container:this.fullPage?null:this.$refs.productsContainer});this.$http.get(`${S}/api/${V}/products/all`).then(s=>{this.products=s.data.products,this.filterProducts=this.products,o.hide()}).catch(s=>{alert(s.data.message)})},filterProduct(o){if(this.active=o,o==="全部")this.getProducts(),this.filterProducts=this.products;else{const s=this.products.filter(m=>m.category===o);this.filterProducts=s}},handleClick(o,s){o.target.nodeName==="BUTTON"?this.addToCart(s):this.$router.push(`/product/${s}`)},...f(u,["getCart"]),...f(u,["addToCart"])},computed:{..._(u,["cart"]),..._(u,["loadingItem"])},mounted(){this.getProducts()}},E={class:"bg-tertiary-100 pt-20 pt-md-30"},I={class:"container pt-lg-0 pb-40"},$={class:"row"},N={class:"col-md-3 sidebar-position"},B={class:"list-group d-flex justify-content-center flex-row flex-md-column bg-tertiary-100 rounded-0 sidebar-position overflow-auto"},D={class:"fs-4 ps-md-8 mb-6"},R={class:"fs-4 ps-md-3 ps-md-8 mb-6"},U={class:"fs-4 ps-md-3 ps-md-8 mb-6"},j={class:"fs-4 ps-md-3 ps-md-8 mb-6"},z={class:"col-md-9 vl-parent",ref:"productsContainer"},L={class:"row justify-content-center justify-content-lg-start"},M=["onClick"],O={class:"card-body px-8 d-flex flex-column"},F={class:"d-flex mb-4"},H={class:"card-title h5 fw-bold mb-0"},q={class:"badge bg-primary rounded-pill fs-3 fw-normal ms-2"},G={class:"card-text mb-4 h-100"},J={class:"d-flex align-items-center justify-content-end mb-1"},K={class:"fw-semibold text-primary-200"},Q={key:0,type:"button",class:"btn btn-secondary text-white disabled"},W=["disabled"],X={key:0,class:"fas fa-spinner fa-pulse"};function Y(o,s,m,Z,i,n){const b=g("SuccessToast");return r(),a("div",E,[P(b),t("div",I,[t("div",$,[t("div",N,[t("div",B,[t("h2",D,[t("a",{href:"",class:l(["list-group-item sidebar-link text-nowrap",{"sidebar-link-active":i.active==="全部"}]),onClick:s[0]||(s[0]=c(e=>n.filterProduct("全部"),["prevent"]))}," 全部產品 ",2)]),t("h2",R,[t("a",{href:"",class:l(["list-group-item sidebar-link text-nowrap",{"sidebar-link-active":i.active==="維生素"}]),onClick:[s[1]||(s[1]=c(e=>n.filterProduct("維生素"),["prevent"])),s[2]||(s[2]=e=>i.active="維生素")]}," 維生素 ",2)]),t("h2",U,[t("a",{href:"",class:l(["list-group-item sidebar-link text-nowrap",{"sidebar-link-active":i.active==="礦物質"}]),onClick:s[3]||(s[3]=c(e=>n.filterProduct("礦物質"),["prevent"]))}," 礦物質 ",2)]),t("h2",j,[t("a",{href:"",class:l(["list-group-item sidebar-link text-nowrap",{"sidebar-link-active":i.active==="功能性補給"}]),onClick:s[4]||(s[4]=c(e=>n.filterProduct("功能性補給"),["prevent"]))}," 功能性補給 ",2)])])]),t("div",z,[t("div",L,[(r(!0),a(k,null,y(i.filterProducts,e=>{var h;return r(),a("div",{class:"col-10 col-sm-12 col-xl-4 col-lg-6 mb-6",key:e.id},[t("a",{href:"",class:"card bg-card-bg border-0 h-100 pb-5 products-card",onClick:c(p=>n.handleClick(p,e.id),["prevent"])},[t("div",{style:x([{height:"180px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}]),class:"mb-2"},null,4),t("div",O,[t("div",F,[t("h3",H,d(e.title),1),t("div",null,[t("span",q,d(e.category),1)])]),t("p",G,d(e.simple),1),t("div",J,[t("p",K,d(`NT$${e.price} /顆`),1)]),(h=o.cart.carts)!=null&&h.some(p=>p.product_id===e.id)?(r(),a("button",Q," 已加入 ")):(r(),a("button",{key:1,type:"button",class:"btn btn-primary-200 text-white",disabled:o.loadingItem===e.id},[e.id===o.loadingItem?(r(),a("i",X)):w("",!0),C("加入購物車 ")],8,W))])],8,M)])}),128))])],512)])])])}const it=v(A,[["render",Y]]);export{it as default};
