import{S as k}from"./sweetalert2.all-62e38067.js";import{_ as P,a as T,m as V,b as S,r as I,o as t,c as o,d as s,e as _,w as p,l,q as i,i as O,t as d,p as A,f as m}from"./index-ffca9aed.js";import{s as y}from"./scrollStore-ba1954a8.js";const{VITE_APP_URL:g,VITE_APP_PATH:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/easyMatch/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},E={data(){return{order:{},fullPage:!0}},components:{RouterLink:T},computed:{...V(y,["scrollPosition"])},methods:{...S(y,["scrollToTop"]),getOrder(){const r=this.$loading.show(),{orderId:c}=this.$route.params;this.$http.get(`${g}/api/${x}/order/${c}`).then(h=>{this.order=h.data.order;const n=localStorage.getItem("totalIncludeGroup");n&&(this.order.totalIncludeGroup=parseInt(n)),r.hide()})},payOrder(r){this.$http.post(`${g}/api/${x}/pay/${r}`).then(c=>{c.data.success&&(k.fire({icon:"success",toast:!0,position:"top",title:"付款成功",timer:2e3,showConfirmButton:!1}),this.getOrder(),this.scrollToTop())})}},mounted(){const r=this.$loading.show();setTimeout(()=>{r.hide()},600),this.getOrder()}},R={class:"bg-tertiary-100 pt-22"},L={class:"container bg-tertiary-100"},N={"aria-label":"breadcrumb",class:"bg-tertiary-100 pt-3 mb-9"},B={class:"breadcrumb mb-0"},C={class:"breadcrumb-item"},D=s("li",{class:"breadcrumb-item active","aria-current":"page"},"確認付款",-1),G={class:"mb-8"},M={class:"row"},U={class:"row"},H=A('<div class="col-3 col-md-5"><div class="pointer d-flex flex-column align-items-center ps-5"><div class="pointer-num pointer-num-active fs-3 mb-1 text-white fw-semibold">1</div><p class="fs-4 text-primary-200">填寫資料</p></div></div><div class="col-6 col-md-2"><div class="pointer d-flex flex-column align-items-center"><div class="pointer-num pointer-num-active fs-3 mb-1 fw-semibold text-white">2</div><p class="fs-4 text-primary-200">確認付款</p></div></div>',2),j={class:"col-3 col-md-5"},q={class:"pointer d-flex flex-column align-items-center pe-2"},z={key:0,class:"d-flex flex-column align-items-center mb-15"},F=s("p",{class:"fs-10 fw-bold"},"感謝您的購買!",-1),J=s("p",{class:"mb-9 fs-5"},"我們將盡快為您出貨，還請隨時留意宅配通知！",-1),K={class:"row justify-content-center pb-40"},Q={class:"col-10 col-md-8"},W={class:"bg-card-bg p-6 w-100 mb-9"},X=s("h2",{class:"h4"},"訂單資訊",-1),Y={class:"table align-middle"},Z=s("th",{class:"p-md-3 border-0"},"訂單編號",-1),$={class:"p-md-3 border-0"},ss=s("th",{class:"p-md-3 border-0"},"訂單成立日期",-1),es={class:"p-md-3 border-0"},ts=s("th",{class:"p-md-3 border-0"},"訂單金額",-1),os={class:"p-md-3 border-0"},rs={key:0},is=s("th",{class:"p-md-3 border-0"},"姓名",-1),ds={class:"p-md-3 border-0"},cs={key:1},ls=s("th",{class:"p-md-3 border-0"},"手機",-1),ns={class:"p-md-3 border-0"},as={key:2},_s=s("th",{class:"p-md-3 border-0"},"信箱",-1),ps={class:"p-md-3 border-0"},ms={key:3},hs=s("th",{class:"p-md-3 border-0"},"外送地址",-1),us={class:"p-md-3 border-0"},bs={key:4},fs=s("th",{class:"p-md-3 border-0"},"訂單備註",-1),vs={class:"p-md-3 border-0"},ys={key:5},gs=s("th",{scope:"row",class:"p-md-3 border-0",width:"150"},"付款狀態",-1),xs={class:"p-md-3 border-0"},ws={key:0,class:"badge bg-danger rounded-pill py-2 px-4"},ks={key:1};function Ps(r,c,h,n,e,w){var u,b,f,v;const a=I("RouterLink");return t(),o("div",R,[s("div",L,[s("nav",N,[s("ol",B,[s("li",C,[_(a,{to:"/",class:"text-primary-200"},{default:p(()=>[m("首頁")]),_:1})]),D])]),s("div",G,[s("div",M,[s("div",{class:l(["col-9 col-md-7 mx-auto timeline",{"timeline-2":e.order.is_paid}])},null,2)]),s("div",U,[H,s("div",j,[s("div",q,[s("div",{class:l(["pointer-num fs-3 mb-1 fw-semibold",{"text-white":e.order.is_paid,"bg-primary":e.order.is_paid,"border-0":e.order.is_paid}])}," 3 ",2),s("p",{class:l(["fs-4",{"text-primary-200":e.order.is_paid}])},"訂購完成",2)])])])]),e.order.is_paid?(t(),o("div",z,[F,J,s("div",null,[_(a,{to:"/",class:"btn btn-outline-primary-200 rounded-pill py-3 px-7 me-6"},{default:p(()=>[m("回首頁")]),_:1}),_(a,{to:"/products",class:"btn btn-primary-200 rounded-pill py-3 px-7 text-white"},{default:p(()=>[m("繼續購物")]),_:1})])])):i("",!0),s("div",K,[s("div",Q,[s("div",W,[X,s("form",{onSubmit:c[0]||(c[0]=O(Ts=>w.payOrder(e.order.id),["prevent"]))},[s("table",Y,[s("tbody",null,[s("tr",null,[Z,s("td",$,d(e.order.id),1)]),s("tr",null,[ss,s("td",es,d(r.$filters.date(e.order.create_at)),1)]),s("tr",null,[ts,s("td",os," NT$ "+d(r.$filters.toThousands(e.order.totalIncludeGroup)),1)]),e.order.is_paid?i("",!0):(t(),o("tr",rs,[is,s("td",ds,d((u=e.order.user)==null?void 0:u.name),1)])),e.order.is_paid?i("",!0):(t(),o("tr",cs,[ls,s("td",ns,d((b=e.order.user)==null?void 0:b.tel),1)])),e.order.is_paid?i("",!0):(t(),o("tr",as,[_s,s("td",ps,d((f=e.order.user)==null?void 0:f.email),1)])),e.order.is_paid?i("",!0):(t(),o("tr",ms,[hs,s("td",us,d((v=e.order.user)==null?void 0:v.address),1)])),e.order.is_paid?i("",!0):(t(),o("tr",bs,[fs,s("td",vs,d(e.order.message?e.order.message:"無"),1)])),e.order.is_paid?i("",!0):(t(),o("tr",ys,[gs,s("td",xs,[e.order.is_paid?(t(),o("span",ks,"已付款")):(t(),o("span",ws,"尚未付款"))])]))])]),e.order.is_paid?i("",!0):(t(),o("button",{key:0,type:"submit",class:l(["btn btn-primary-200 rounded-pill w-100 text-white py-3",{disabled:e.order.is_paid}])}," 確認付款 ",2))],32)])])])])])}const Os=P(E,[["render",Ps]]);export{Os as default};
