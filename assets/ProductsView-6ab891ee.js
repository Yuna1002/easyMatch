import{m as p,b as h,_ as f,o,c as a,d as t,l as c,i as d,F as b,h as y,t as i,r as g,e as P,g as N,q as w,n as S,f as x}from"./index-a4363e81.js";import{p as l}from"./productsStore-278b375f.js";import{c as T}from"./cartStore-cd54e778.js";import{B as V}from"./BreadCrumb-f9066277.js";import"./scrollStore-42c1bd54.js";import"./sweetalert2.all-694180b0.js";const j={computed:{...p(l,["category","categorys"])},methods:{...h(l,["filterProduct"])}},I={class:"list-group d-flex justify-content-center flex-row flex-md-column bg-tertiary-100 rounded-0 sidebar-position overflow-auto"},z={class:"fs-4 ps-md-8 mb-6"},A=["onClick"];function F(e,n,$,v,k,m){return o(),a("div",I,[t("h2",z,[t("a",{href:"",class:c(["list-group-item sidebar-link text-nowrap",{"sidebar-link-active":e.category==="全部"}]),onClick:n[0]||(n[0]=d(s=>e.filterProduct("全部"),["prevent"]))}," 全部產品 ",2)]),(o(!0),a(b,null,y(e.categorys,s=>(o(),a("h2",{class:"fs-4 ps-md-3 ps-md-8 mb-6",key:s},[t("a",{href:"",class:c(["list-group-item sidebar-link text-nowrap",{"sidebar-link-active":e.category===s}]),onClick:d(u=>e.filterProduct(s),["prevent"])},i(s),11,A)]))),128))])}const U=f(j,[["render",F]]),q={methods:{...h(l,["getProducts"])},computed:{...p(l,["pages"])}},D={"aria-label":"Page navigation example "},E={class:"pagination"},L=t("span",{"aria-hidden":"true"},"«",-1),M=[L],O={key:0,class:"page-link"},G=["onClick"],H=t("span",{"aria-hidden":"true"},"»",-1),J=[H];function K(e,n,$,v,k,m){return o(),a("nav",D,[t("ul",E,[t("li",{class:c(["page-item",{disabled:!e.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:n[0]||(n[0]=d(s=>e.getProducts(e.pages.current_page-1),["prevent"]))},M)],2),(o(!0),a(b,null,y(e.pages.total_pages,s=>(o(),a("li",{class:c(["page-item",{active:s===e.pages.current_page}]),key:s},[s===e.pages.current_page?(o(),a("span",O,i(s),1)):(o(),a("a",{key:1,class:"page-link",href:"#",onClick:d(u=>e.getProducts(s),["prevent"])},i(s),9,G))],2))),128)),t("li",{class:c(["page-item",{disabled:!e.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:n[1]||(n[1]=d(s=>e.getProducts(e.pages.current_page+1),["prevent"]))},J)],2)])])}const Q=f(q,[["render",K]]);const R={components:{PaginationComponent:Q,CategorySidebar:U,BreadCrumb:V},methods:{handleClick(e,n){e.target.nodeName==="BUTTON"?this.addToCart(n):this.$router.push(`/product/${n}`)},...h(l,["getProductsAll","addToCart"])},computed:{...p(l,["filterProducts","category","loadingItem"]),...p(T,["cart"])},created(){this.getProductsAll()},mounted(){const e=this.$loading.show({container:this.fullPage?null:this.$refs.productsContainer});setTimeout(()=>{e.hide()},800)}},W={class:"bg-tertiary-100 pt-20 pt-md-22"},X={class:"container pt-lg-0 pb-40"},Y={class:"row"},Z={class:"col-md-3 sidebar-position"},ee={class:"col-md-9 vl-parent",ref:"productsContainer"},te={class:"row justify-content-center justify-content-md-start mb-20"},se=["onClick"],oe={class:"card-body px-8 px-md-4 d-flex flex-column"},ae={class:"d-flex mb-4"},ne={class:"card-title h5 fw-bold mb-0"},re={class:"badge bg-primary rounded-pill fs-3 fw-normal ms-2"},ie={class:"card-text mb-4 h-100"},de={class:"d-flex align-items-center justify-content-end mb-1"},le={class:"fw-semibold text-primary-200"},ce={key:0,type:"button",class:"btn btn-secondary text-white disabled rounded-pill py-2"},pe=["disabled"],me={key:0,class:"fas fa-spinner fa-pulse"};function ue(e,n,$,v,k,m){const s=g("BreadCrumb"),u=g("CategorySidebar"),B=g("PaginationComponent");return o(),a("div",W,[t("div",X,[t("div",Y,[P(s),t("div",Z,[P(u)]),t("div",ee,[t("div",te,[(o(!0),a(b,null,y(e.filterProducts,r=>{var C;return o(),a("div",{class:"col-10 col-sm-12 col-md-6 col-lg-4 mb-6",key:r.id},[t("a",{href:"",class:"card bg-card-bg border-0 h-100 pb-5 products-card",onClick:d(_=>m.handleClick(_,r.id),["prevent"])},[t("div",{style:S([{height:"180px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${r.imageUrl})`}]),class:"mb-2"},null,4),t("div",oe,[t("div",ae,[t("h3",ne,i(r.title),1),t("div",null,[t("span",re,i(r.category),1)])]),t("p",ie,i(r.simple),1),t("div",de,[t("p",le,i(`NT$${r.price} /${r.unit}`),1)]),(C=e.cart.carts)!=null&&C.some(_=>_.product_id===r.id)?(o(),a("button",ce," 已加入 ")):(o(),a("button",{key:1,type:"button",class:"btn btn-primary-200 text-white rounded-pill btn-hover py-2",disabled:e.loadingItem===r.id},[r.id===e.loadingItem?(o(),a("i",me)):w("",!0),x("加入購物車 ")],8,pe))])],8,se)])}),128))]),t("div",null,[e.category==="全部"?(o(),N(B,{key:0,class:"d-flex justify-content-center"})):w("",!0)])],512)])])])}const $e=f(R,[["render",ue]]);export{$e as default};
